# Relatório de Validação - Tarefa 7.0

## Escopo coberto
- Integridade transacional na conciliação (`cadastrarItem`).
- Auditoria de cancelamentos (`cancelarItem`).
- Isolamento por `tenant_id` e filtros de pendentes.

## Casos automatizados (Jest)
- **Rollback em falha de Prazo**: erro ao inserir prazo aciona `ROLLBACK` e não marca `status_decisao='cadastrado'`.
- **Auditoria de Cancelar**: inserção em `similaridade_descartes_auditoria` com `dados_descartados` do item e atualização de status para `cancelado`.
- **Isolamento de tenant**: impede conciliação de item inexistente no tenant e verifica listagem apenas de pendentes do tenant.

Arquivo de testes: `tests/unit/conciliacaoService.test.js`

## Como executar
```bash
npm test -- conciliacaoService.test.js
```

## Observações
- Testes usam mocks de Postgres para simular transações; não requer conexão real.
- Caso queira validar fluxo real de 10 itens (critério 7.4), executar conciliações em ambiente de integração apontando para banco de homologação e verificar contagem nas tabelas `Publicacao`, `Andamento` e `Prazo`.
